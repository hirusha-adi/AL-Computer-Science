Endpoint: appInfo
Description: ### Getting system/api info
---
#### AUTH : OPEN
---
#### Roles
  1. ANY
---
#### * Request Body :
```javascript
    query{
      appInfo{
        apiName
        apiVersion
        storageBucketVideoRoot
        storageBucketImageRoot
      }
    }

```

Endpoint: getSysInfo
Description: ### Admin get system info
---


#### * Request Body :
```javascript
    query{
      getSysInfo{
        canPlaceStudentPayment
      }
    }
```

Endpoint: me
Description: ### Get current user account details
---
#### AUTH : REQUIRED
---
#### Roles
  1. STUDENT
  2. ADMIN
  3. SUPER_ADMIN
  4. VER_ADMIN
  5. PAYER_ADMIN
  6. TEACHER

---
 #### * Request Body :
```javascript
query{
  me {
      _id
      fname
      lname
      email
      role,
      status
      created_at
      updated_at
  }
}
```

#### Authorization graphql playground
  * User http headers section in playground its usualy in bottom left section of screen

  ```javascript
  {
    "authorization" :"auth Token"
  }
  ```

Endpoint: searchStudentAccounts
Description: ### Search Student Accounts
---
#### AUTH : REQUIRED
---
#### Roles
  1. ADMIN
  2. SUPER_ADMIN
  3. VER_ADMIN
  4. PAYER_ADMIN
---
### Order :
field ASC OR DESC
---
#### * Request Body :
```javascript
 query {
searchStudentAccounts(
input:{
  keyword : "",
  order: "created_at DESC",
  limit: 10,
  skip: 0,
  _id: "",
  item:{
    email : "dinuka@gmail.com",
    status : "active"
  }
}
){
    limit
    skip
    resultCount
    result{
       _id
        fname
        lname
        email
        role,
        status
        created_at
        updated_at
    }
  }
}

```

Endpoint: getSubject
Description: ### Get Subject
---
#### AUTH : REQUIRED
---
#### Roles
  2. STUDENT
  2. ADMIN
  3. SUPER_ADMIN
---
#### * Request Body :
```javascript
query {
getSubject(
      itemId : "5fbf39eb52a5cd084c70ce60"
){
    _id
    name
    grade
    subject_stream
    subject_code
    status
    avatar_url
    created_at
    updated_at
    deleted_at
  }
}

```

Endpoint: searchSubjects
Description:   ### Search Subjects
  ---
  #### AUTH : OPEN
  ---
  ### Order :
  field ASC OR DESC
  ---
  #### * Request Body :
  ```javascript
   query {
  searchSubjects(
  input:{
    keyword : "",
    order: "created_at DESC",
    limit: 10,
    skip: 0,
    _id: "",
    item:{
      name: "",
      grade: "",
      subject_stream: "",
      subject_code: "",
      status: ""
    }
}
  ){
    limit
    skip
    resultCount
    result{
      _id
      name
      grade
      subject_stream
      subject_code
      status
      avatar_url
      created_at
      updated_at
      deleted_at
    }
    }
  }

  ```

Endpoint: getTeacher
Description: ### Get Teacher Profile
---
#### AUTH : REQUIRED
---
#### Roles
  2. STUDENT
  2. ADMIN
  3. SUPER_ADMIN
---
#### * Request Body :
```javascript
query {
getTeacher(
      itemId : "5fbf39eb52a5cd084c70ce60"
){
    _id
    account_id
    full_name
    subject
    subject_id
    title
    description
    qualifications
    address
    email
    email_verified_at
    mobile
    mobile_verified_at
    del_mobile_1
    del_mobile_2
    status
    avatar_url
    cover_url
    sort_idx
    stats {
      courses_count
      payments_for_maded
      videos
    }
    created_at
    updated_at
    deleted_at
  }
}

```

Endpoint: searchTeachers
Description:   ### Search Teacher Profiles
  ---
  #### AUTH : REQUIRED
  ---
  #### Roles
    2. STUDENT
    2. ADMIN
    3. SUPER_ADMIN
  ---
  ### Order :
  field ASC OR DESC
  ---
  #### * Request Body :
  ```javascript
   query {
  searchTeachers(
  input:{
    keyword : "",
    order: "sort_idx ASC",
    limit: 10,
    skip: 0,
    _id: "",
    item:{

      subject: "",
      email: "",
      mobile: "",
      status: ""
    }
}
  ){
      limit
      skip
      resultCount
      result{
        _id
        account_id
        full_name
        subject
        subject_id
        title
        description
        qualifications
        address
        email
        email_verified_at
        mobile
        mobile_verified_at
        del_mobile_1
        del_mobile_2
        status
        avatar_url
        cover_url
        sort_idx
        stats{
          courses_count
          payments_for_maded
          videos
        }
        created_at
        updated_at
        deleted_at
      }
    }
  }

  ```

Endpoint: getStudentProfile
Description: ### Get Student Profile
---
#### AUTH : REQUIRED
---
#### Roles
  1. ADMIN
  2. SUPER_ADMIN
  3. VER_ADMIN
  4. PAYER_ADMIN
  5. TEACHER
---
#### * Request Body :
```javascript
query {
getStudentProfile(
      accountId : "5fbf39eb52a5cd084c70ce60"
){
  account{
    _id
    fname
    lname
    email
    status
    role
    created_at
    updated_at
  }
  profile{
       _id
      account_id
      full_name
      school_name
      subject_stream
      subjects
      exm_year
      exm_attempt
      closet_town
      district
      address
      nic_no
      barcode
      selfy_photo
      nic_front_url
      nic_back_url
      nic_status
      avatar_url
      email
      email_verified_at
      mobile
      mobile_verified_at
      del_mobile_1
      del_mobile_2
      status
      created_at
      updated_at
      deleted_at
    }
  }
}

```

Endpoint: getStudentMyProfile
Description: ### Get My Student Profile
---
#### AUTH : REQUIRED
---
#### Roles
  2. STUDENT
---
#### * Request Body :
```javascript
query {
getStudentMyProfile{
  account{
    _id
    fname
    lname
    email
    status
    role
    created_at
    updated_at
  }
  profile{
      _id
      account_id
      first_name
      last_name
      school_name
      subject_stream
      subjects
      exm_year
      district
      address
      nfc_institute
      nfc_code
      nic_no
      selfy_photo
      nfc_front_url
      nic_front_url
      nic_back_url
      nic_status
      avatar_url
      email
      mobile
      prnt_mobile
      status
      created_at
      updated_at
      deleted_at
    }
  }
}

```

Endpoint: searchStudents
Description:   ### Search Student Profiles
  ---
  #### AUTH : REQUIRED
  ---
  #### Roles
    1. ADMIN
    2. SUPER_ADMIN
    3. VER_ADMIN
    4. PAYER_ADMIN
    5. TEACHER
  ---
  ### Order :
  field ASC OR DESC
  ---
  #### * Request Body :
  ```javascript
   query {
  searchStudents(
  input:{
    keyword : "",
    order: "created_at DESC",
    limit: 10,
    skip: 0,
    _id: "",
    item:{
      account_id: "",
      subject_stream: "",
      exm_year: "",
      closet_town: "",
      district: "",
      nic_status: "",
      barcode:"",
      status: "",
    }
}
  ){
      limit
      skip
      resultCount
      result{
        _id
        account_id
        first_name
        last_name
        school_name
        subject_stream
        subjects
        exm_year
        district
        address
        nfc_institute
        nfc_code
        nic_no
        selfy_photo
        nfc_front_url
        nic_front_url
        nic_back_url
        nic_status
        avatar_url
        email
        mobile
        prnt_mobile
        status
        created_at
        updated_at
        deleted_at
      }
    }
  }

  ```

Endpoint: getStudentCountByExamYear
Description: ### Get student count by exam year
---
#### AUTH : REQUIRED
---
#### Roles
  1. SUPER_ADMIN
  2. ADMIN
  3. TEACHER
---
#### * Request Body :
```javascript
query {
  getStudentCountByExamYear(exm_year: "2023") {
    count
  }
}
```

Endpoint: getStudentCountBySubject
Description: ### Get student count by subject
---
#### AUTH : REQUIRED
---
#### Roles
  1. SUPER_ADMIN
  2. ADMIN
  3. TEACHER
---
#### * Request Body :
```javascript
query {
  getStudentCountBySubject(subject: "sub1") {
    count
  }
}
```

Endpoint: getStudentLogs
Description: ### Get student logs
---
#### AUTH : REQUIRED
---
#### Roles
  1. SUPER_ADMIN
  2. ADMIN
---
#### * Request Body :
```javascript
query {
  getStudentLogs(
    input:{
      start: 1650584999,
      end: 1650732067,
      prefix: "PLATFORM_LOG"
    }
  ) {

  }
}
```

Endpoint: getScriptCouseIncomeStudents
Description: ### Get student Income details
---
#### AUTH : REQUIRED
---
#### Roles
  1. SUPER_ADMIN
---
#### * Request Body :
```javascrip
query {
  getScriptCouseIncomeStudents(
      course_id:"",
      start:1651384072,
      end:1651816098,
      tag:"2020-12-currier-1"
  )
  {
    data {
      units
      title
      unitPrice
      amount
    }
    total
    start
    end
  }
}
```

Endpoint: getCourse
Description: ### Get Couse
---
#### AUTH : REQUIRED
---
#### Roles
  2. STUDENT
  2. ADMIN
  3. SUPER_ADMIN
---
#### * Request Body :
```javascript
query {
getCourse(
      itemId : "5fbf39eb52a5cd084c70ce60"
){
    _id:
    teacher_profile_id
    teacher_account_id
    title
    description
    monthly_fee
    subject
    subject_id
    extPayer_id
    extPayer_course_id
    exm_year
    course_type
    payment_enabled
    payment_restricted
    physical_atdnce_check
    status
    avatar_url
    teacher_full_name
    cover_url
    attachments{
      title
      content
      content_type
    }
    created_at
    updated_at
    deleted_at
  }
}

```

Endpoint: searchCourses
Description: ### Search Courses
---
#### AUTH : REQUIRED
---
#### Roles
  2. STUDENT
  2. ADMIN
  3. SUPER_ADMIN
---
### Order :
field ASC OR DESC
---
#### * Request Body :
```javascript
 query {
searchCourses(
  input:{
    keyword : "",
    order: "created_at DESC",
    limit: 10,
    skip: 0,
    _id: "",
    item:{
      teacher_profile_id: "",
      subject: "",
      subject_id: "",
      extPayer_id: ""
      extPayer_course_id: ""
      exm_year: "",
      status: ""
    }
  }
){
  limit
  skip
  resultCount
  result{
    _id
    teacher_profile_id
    teacher_account_id
    title
    description
    monthly_fee
    teacher_full_name
    subject
    subject_id
    extPayer_id
    extPayer_course_id
    exm_year
    course_type
    payment_enabled
    payment_restricted
    physical_atdnce_check
    status
    avatar_url
    cover_url
    attachments{
      title
      content
      content_type
    }
    created_at
    updated_at
    deleted_at
  }
  }
}

```

Endpoint: getAdminLesson
Description: ### Get Lesson
---
#### AUTH : REQUIRED
---
#### Roles
  2. ADMIN
  3. SUPER_ADMIN
---
#### * Request Body :
```javascript
query {
getAdminLesson(
      itemId : "5fbf39eb52a5cd084c70ce60"
){
    _id
    teacher_profile_id
    teacher_account_id
    course_id
    title
    description
    subject
    subject_id
    year
    month
    list_incrmnt
    course_month_payment
    lesson_month_payment
    exm_year
    status
    is_free
    freeForPrevMonth
    group_name
    extPayer_date
    video_url
    video_code
    lesson_mode
    playback
    playback_key
    playback_hash
    playback_master
    playback_sd
    playback_hd
    live_master
    live_code
    live_expire
    live_master_2
    live_code_2
    live_expire_2
    video_secret
    video_start
    video_end
    video_repeat_start
    video_repeat_end
    video_can_view
    video_duration
    avatar_url
    cover_url
    upload_enabled
    uploaded_files {
      student_account{
        fname
        lname
        mobile
      }
      file
    }
    attachments{
      title
      content
      content_type
    }
    created_at
    updated_at
    deleted_at
  }
}

```

Endpoint: searchAdminLessons
Description: ### Search Lessons
---
#### AUTH : REQUIRED
---
#### Roles
  2. ADMIN
  3. SUPER_ADMIN
---
### Order :
field ASC OR DESC
---
#### * Request Body :
```javascript
 query {
searchAdminLessons(
  input:{
    keyword : "",
    order: "created_at DESC",
    limit: 10,
    skip: 0,
    _id: "",
    item:{
      teacher_profile_id: "",
      course_id: "",
      title: "",
      description: "",
      subject: "",
      subject_id: "",
      year: "",
      month: "",
      exm_year: "",
      status: ""
    }
  }
){
  limit
  skip
  resultCount
  result{
    _id
    teacher_profile_id
    teacher_account_id
    course_id
    title
    description
    subject
    subject_id
    year
    month
    list_incrmnt
    course_month_payment
    lesson_month_payment
    exm_year
    status
    is_free
    freeForPrevMonth
    group_name
    extPayer_date
    video_url
    video_code
    lesson_mode
    playback
    playback_key
    playback_hash
    playback_master
    playback_sd
    playback_hd
    live_master
    live_code
    live_expire
    live_master_2
    live_code_2
    live_expire_2
    video_secret
    video_start
    video_end
    video_repeat_start
    video_repeat_end
    video_can_view
    video_duration
    avatar_url
    cover_url
    upload_enabled
    attachments{
      title
      content
      content_type
    }
    created_at
    updated_at
    deleted_at
  }
  }
}

```

Endpoint: getPeymentRecipt
Description: ### Get Payment Recipt
---
#### AUTH : REQUIRED
---
#### Roles
  1. STUDENT
  2. ADMIN
  3. SUPER_ADMIN
  4. PAYER_ADMIN
---
#### * Request Body :
```javascript
query {
getPeymentRecipt(
      itemId : "5fbf39eb52a5cd084c70ce60"
){
    recipt{
     _id
    student_profile_id
    student_account_id
    teacher_profile_id
    teacher_account_id
    cources_id
    course_type
    subject
    subject_id
    student_name
    year
    amount
    discount
    final_amount
    payment_recipt_status
    payment_type
    payhere_amount
    payhere_currency
    status_code
    md5sig
    payment_id
    custom_1
    custom_2
    method
    status_message
    card_holder_name
    card_no
    card_expiry
    is_payment_verified
    is_custom_payload_verified
    created_at
    updated_at
    deleted_at
    }
    payment_items{
        student_profile_id
        student_account_id
        teacher_profile_id
        teacher_account_id
        payment_recipt_id
        cources_id
        subject
        subject_id
        year
        month
        title
        amount
        created_at
        updated_at
        deleted_at
    }
  }
}

```

Endpoint: searchPeymentRecipts
Description:   ### Search Payment recipts
  ---
  #### AUTH : REQUIRED
  ---
  #### Roles
    1. STUDENT
    2. ADMIN
    3. SUPER_ADMIN
    4. PAYER_ADMIN
  ---
  ### Order :
  field ASC OR DESC
  ---
  #### * Request Body :
  ```javascript
   query {
  searchPeymentRecipts(
  input:{
    keyword : "",
    order: "created_at DESC",
    limit: 10,
    skip: 0,
    _id: "",
    item:{
      student_profile_id: "",
      student_account_id: "",
      teacher_profile_id: "",
      teacher_account_id: "",
      cources_id: "",
      subject_id: "",
      payment_id:"",
      year: "",
      month: "",
      payment_recipt_status: ""
      payment_types: ""
    }
}
  ){
      limit
      skip
      resultCount
      result{
         _id
    student_profile_id
    student_account_id
    teacher_profile_id
    teacher_account_id
    cources_id
    subject
    subject_id
    student_name
    year
    amount
    discount
    final_amount
    payment_recipt_status
    payment_type
    payhere_amount
    payhere_currency
    status_code
    md5sig
    payment_id
    custom_1
    custom_2
    method
    status_message
    card_holder_name
    card_no
    card_expiry
    is_payment_verified
    is_custom_payload_verified
    created_at
    updated_at
    deleted_at
      }
    }
  }

  ```

Endpoint: myCourses
Description: ### List My Courses
---
#### AUTH : REQUIRED
---
#### Roles
  2. STUDENT
---
#### * Request Body :
```javascript
query {
myCourses{
  myCourses{
    _id
    teacher_profile_id
    teacher_account_id
    title
    description
    monthly_fee
    teacher_full_name
    subject
    subject_id
    exm_year
    status
    avatar_url
    cover_url
    created_at
    updated_at
    deleted_at
  }
  }
}

```

Endpoint: getCourseDetails
Description:   ### Get Course Details
  ---
  #### AUTH : REQUIRED
  ---
  #### Roles
    2. STUDENT
  ---
  #### paginateYearMonths
  * this field is optional you can send [] or ["2020_12","2021_01",...]
  ---
  #### * Request Body :
  ```javascript
  example 01:
  query {
  getCourseDetails(
    course_id: "5fd31480da0b27001ee6b830"
    paginate_year_months: ["2021_01"]
  ) {
    course{
      course_type
    }
    lessons {
      _id
      title
      description
      avatar_url
      month
      year
      created_at
      dnmc_month_sub
      prev_month_sub
    }
    lessons_months {
      year
      month
    }
    sub_months{
      year
      month

    }
  }
}

example 02:
  query {
  getCourseDetails(
    course_id:"gfg",
    paginate_year_months:["2020_12","2021_01"]
  ){
     course{}
     teacher{}
     lessons{}
     teacher{}
     sub_months{}
     lessons_months{}
  }

  ```

Endpoint: getLessonDetails
Description: ### Get Lesson Details
---
#### AUTH : REQUIRED
---
#### Roles
  2. STUDENT
---
#### * Request Body :
```javascript
query {
getLessonDetails(
  lesson_id:"gfg"
){
   lesson{}
   course{}
   teacher{}
   is_subscribed
   link_params
   link_exire_after
   user_watch_time
  }
}

```

Endpoint: getLessonContent
Description: ### APP: Get Lesson Content
---
#### AUTH : REQUIRED
---
#### Roles
  2. STUDENT
---
#### * Request Body :
```javascript
query {
getLessonContent(
  link_param:"245-765",
  dev_model:"windows-v1.2f590b53-494c-4b6d-9d06-60cb020d3e4f"
){
  lesson{}
  course{}
  teacher{}
  is_subscribed
  lesson_viewer_key
  user_watch_time
  view_mode
  vid_url
  m_vid_url
  key
  hash
}

```

Endpoint: getLessonWatchDetails
Description: ### Get lesson watch details
---
#### AUTH : REQUIRED
---
#### Roles
  1. SUPER_ADMIN
  2. ADMIN
  3. TEACHER
---
#### * Request Body :
```javascript
query {
  getLessonWatchDetails(
    lesson_id:"608ebd420f7d69f3811e6c0f"
  ){
    generalCount
    repeatCount
  }
}

```

Endpoint: getAdminPaymentLogs
Description: ### Get admin payment logs
---
#### AUTH : REQUIRED
---
#### Roles
  1. SUPER_ADMIN
---
#### * Request Body :
```javascript
query {
  getAdminPaymentLogs{
    count
    logs {
      role
      payment_method
      student_account_id
      cources_id
      subject
      payment_id
      payment_recipt_id
      student_name
      year
      month
      deposit_ref
      amount
      discount
      final_amount
    }
  }
}

```

Endpoint: getAdminPaymentDeleteLogs
Description: ### Get admin payment delete logs
---
#### AUTH : REQUIRED
---
#### Roles
  1. SUPER_ADMIN
---
#### * Request Body :
```javascript
query {
  getAdminPaymentDeleteLogs{
    count
    logs {
      role
      student_account_id
      cources_id
      subject
      payment_id
      payment_recipt_id
      student_name
      year
      month
      deposit_ref
      amount
      discount
      final_amount
    }
  }
}

```

Endpoint: getExtPayer
Description: ### Get external payer account
---
#### AUTH : REQUIRED
---
#### Roles
  1. SUPER_ADMIN
  2. ADMIN
---
#### * Request Body :
```javascript
query {
getExtPayer(
      itemId : "5fbf39eb52a5cd084c70ce60"
){
    _id
    location
    username
    created_at
    updated_at
    deleted_at
  }
}

```

Endpoint: searchExtPayers
Description: ### Search external payer accounts
---
#### AUTH : REQUIRED
---
#### Roles
  1. SUPER_ADMIN
  2. ADMIN
---
### Order :
field ASC OR DESC
---
#### * Request Body :
```javascript
 query {
searchExtPayers(
  input:{
    keyword : "",
    order: "created_at DESC",
    limit: 10,
    skip: 0,
    _id: "",
    item:{
      location:""
      username:""
    }
  }
){
  limit
  skip
  resultCount
  result{
    _id
    location
    username
    created_at
    updated_at
    deleted_at
  }
  }
}

```

